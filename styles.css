/* Import Cursive Aesthetic Fonts */
@import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600;700&family=Gloria+Hallelujah&family=Nunito:wght@400;700&display=swap');

body {
    background-color: #fce4ec;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    margin: 0;
    padding: 20px;
    font-family: 'Dancing Script', cursive; /* Set default to cursive */
    box-sizing: border-box;
    overflow-x: hidden;
}

#main-container { 
    width: 100%;
    max-width: 800px;
    text-align: center; 
}

.hidden { display: none !important; }

/* ENVELOPE DESIGN */
#envelope {
    position: relative;
    width: 280px;
    height: 180px;
    background-color: #f9c5c8;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
    margin: 0 auto;
}

.flap {
    position: absolute;
    top: 0; left: 0;
    width: 0; height: 0;
    border-style: solid;
    border-width: 100px 140px 0 140px;
    border-color: #ff5252 transparent transparent transparent;
    z-index: 5;
    transform-origin: top;
    transition: transform 0.5s ease;
}

.open .flap { transform: rotateX(180deg); z-index: 1; }

.pocket-left {
    position: absolute;
    top: 0; left: 0;
    border-style: solid;
    border-width: 90px 0 90px 140px;
    border-color: transparent transparent transparent #f9c5c8;
    z-index: 3;
}

.pocket-right {
    position: absolute;
    top: 0; right: 0;
    border-style: solid;
    border-width: 90px 140px 90px 0;
    border-color: transparent #f9c5c8 transparent transparent;
    z-index: 3;
}

.pocket-bottom {
    position: absolute;
    bottom: 0; left: 0;
    border-style: solid;
    border-width: 0 140px 100px 140px;
    border-color: transparent transparent #f2a6a8 transparent;
    z-index: 4;
}

.letter {
    position: absolute;
    bottom: 5px; left: 10px;
    width: 260px; height: 160px;
    background: white;
    z-index: 2;
    transition: transform 0.6s ease-in-out;
    display: flex; justify-content: center; align-items: center;
    font-size: 50px;
}

.open .letter { transform: translateY(-130px); }

.button-container { margin-top: 160px; }

/* SCRATCH CARD - CURSIVE AESTHETIC */
.scratch-card {
    background-color: #d32f2f;
    padding: 15px;
    border-radius: 25px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    width: 100%;
    max-width: 650px;
    display: inline-block;
}

.card-inner {
    background-color: white;
    padding: 35px 25px;
    display: flex;
    flex-direction: row; 
    align-items: center;
    justify-content: center;
    gap: 25px;
    position: relative;
    /* Scalloped Edge */
    --mask: radial-gradient(12px at 12px 12px, #0000 98%, #000) -12px -12px;
    -webkit-mask: var(--mask);
    mask: var(--mask);
}

.bubbly-title {
    font-family: 'Dancing Script', cursive;
    font-weight: 700;
    color: #d32f2f;
    font-size: 2.2rem; /* Adjusted for cursive clarity */
    line-height: 1.1;
    margin: 0 0 10px 0;
}

.valentine-msg {
    font-family: 'Dancing Script', cursive;
    color: #d32f2f;
    font-size: 1.3rem; /* Cursive needs to be slightly larger to be readable */
    line-height: 1.3;
    margin: 5px 0;
    font-weight: 500;
}

.signature {
    font-family: 'Dancing Script', cursive;
    color: #d32f2f;
    font-size: 1.4rem;
    margin-top: 15px;
}

.canvas-wrapper {
    position: relative;
    width: 260px;
    height: 260px;
    border-radius: 10px;
    overflow: hidden;
    flex-shrink: 0;
    border: 3px solid #fce4ec;
}

#photo { width: 100%; height: 100%; object-fit: cover; }
#scratch-canvas { position: absolute; top: 0; left: 0; touch-action: none; }

/* MOBILE FIX */
@media (max-width: 650px) {
    .card-inner {
        flex-direction: column; 
        padding: 40px 15px;
    }
    
    .text-content {
        text-align: center;
    }
    
    .canvas-wrapper {
        width: 240px;
        height: 240px;
    }

    .bubbly-title {
        font-size: 1.8rem;
    }
}